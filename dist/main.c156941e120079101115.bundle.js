webpackJsonp([0,3],{1004:function(e,t,n){e.exports=n(450)},125:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){}return e.prototype.setObject=function(e,t){localStorage.setItem(e,JSON.stringify(t))},e.prototype.getObject=function(e){var t=localStorage.getItem(e);return t&&JSON.parse(t)},e}()},126:function(e,t,n){"use strict";var i=n(253);n.d(t,"a",function(){return r}),n.d(t,"c",function(){return s}),n.d(t,"b",function(){return l});var r=function(){function e(e,t,n,r,a,c){this.username=e,this.id=t,this.messages=n,this.email=r,this.pictureUrl=a,this.city=c,this.name=new i.b,this.relations=new o,this.ratings=new s,this.password=null}return e}(),o=function(){function e(){this.followers=[],this.following=[]}return e}(),s=function(){function e(){this.my=new a,this.given=new c}return e}(),a=function(){function e(){this.likes=[],this.dislikes=[]}return e}(),c=function(){function e(){this.likes=[],this.dislikes=[]}return e}(),l=function(){function e(e,t,n,i,r){this.pictureUrl=e,this.email=t,this.firstName=n,this.lastName=i,this.city=r}return e}()},178:function(e,t,n){"use strict";var i=n(1),r=n(120),o=n(190),s=(n.n(o),n(137)),a=(n.n(s),n(136)),c=(n.n(a),n(135));n.n(c);n.d(t,"a",function(){return u});var l=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e){this._http=e,this._url="https://friendlytalks.herokuapp.com/user"}return e.prototype.signup=function(e){var t=JSON.stringify(e),n=new r.b({"Content-Type":"application/json"});return this._http.post(this._url,t,{headers:n}).map(function(e){return e.json()}).catch(function(e){return o.Observable.throw(e.json())})},e.prototype.signin=function(e){var t=JSON.stringify(e),n=new r.b({"Content-Type":"application/json"});return this._http.post(this._url+"/signin",t,{headers:n}).map(function(e){return e.json()}).catch(function(e){return o.Observable.throw(e.json())})},e.prototype.logout=function(){localStorage.clear()},e.prototype.isLoggedIn=function(){return null!==localStorage.getItem("token")},e=l([n.i(i.B)(),f("design:paramtypes",["function"==typeof(t="undefined"!=typeof r.c&&r.c)&&t||Object])],e);var t}()},179:function(e,t,n){"use strict";var i=n(1),r=n(42),o=n(27),s=n(579),a=n(580),c=n(581),l=n(582);n.d(t,"a",function(){return d});var f=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(){}return e=f([n.i(i.b)({imports:[r.g,o.a],declarations:[s.a,a.a,c.a,l.a],exports:[s.a,a.a,c.a,l.a]}),u("design:paramtypes",[])],e)}()},253:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r});var i=function(){function e(e,t,n,i){this.username=e,this.password=t,this.email=n,this.city=i,this.name=new r}return e}(),r=function(){function e(){this.first="John",this.last="Doe"}return e}();(function(){function e(){}return e})()},254:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(e,t,n,i,o,s,a){void 0===i&&(i=new r),this.content=e,this.created_at=t,this.username=n,this.meta=i,this.messageId=o,this.userId=s,this.pictureUrl=a}return e}(),r=function(){function e(){this.likes=0,this.dislikes=0}return e}()},370:function(e,t,n){"use strict";var i=n(1);n.d(t,"a",function(){return s});var r=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(){}return e.prototype.ngOnInit=function(){},e=r([n.i(i.d)({selector:"my-announcements",template:'<h1>Announcements</h1>\n<!-- <div class="col-md-6 col-md-offset-3 col-sm-6 col-sm-offset-3 col-xs-6 col-xs-offset-3 message-panel">\n    <div class="media">\n  <div class="media-left">\n    <a href="#">\n      <img class="media-object" src="https://unsplash.it/100/100" alt="...">\n    </a>\n  </div>\n  <div class="media-body">\n    <h4 class="media-heading">@Username</h4>\n    <div class="col-md-10 col-sm-10 col-xs-10 message-content">Some mes sage Some message  Sssage  Some message Some  Sssage  Some </div>\n    <div class="col-md-2 col-sm-2 col-xs-2 pull-right right-align message-config">\n                          <div class="message-config">\n                              <i class="glyphicon glyphicon-pencil cursor-pointer left-align" data-toggle="tooltip" title="Edit" (click)="onEdit(messageItem)"> </i> \n                              <i class="glyphicon glyphicon-remove glyphicon-remove-color cursor-pointer left-align" data-toggle="tooltip" title="Remove" (click)="onDelete(messageItem)"> </i>\n                          </div>\n                      </div>\n    <div class="col-md-12 col-sm-12 col-xs-12 message-footer">\n                    \n                       <div class="col-md-6 col-sm-6 col-xs-6 left-align"> panel ratings </div>\n                     <div class="col-md-6 col-sm-6 col-xs-6 right-align"> panel date</div>\n                    \n    </div>\n</div>\n</div>\n</div> -->\n'}),o("design:paramtypes",[])],e)}()},371:function(e,t,n){"use strict";var i=n(1),r=n(66),o=n(27),s=n(253),a=n(178),c=n(38);n.d(t,"a",function(){return u});var l=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t,n,i){this._fb=e,this._authService=t,this._router=n,this._errorService=i}return e.prototype.ngOnInit=function(){this.signupForm=this._fb.group({username:["",r.a.required],email:["",r.a.compose([r.a.required,this.isEmail])],password:["",r.a.required],firstName:["",r.a.required],lastName:["",r.a.required],city:["",r.a.required]})},e.prototype.onSubmit=function(){var e=this,t=new s.a(this.signupForm.value.username,this.signupForm.value.password,this.signupForm.value.email,this.signupForm.value.city);t.name.first=this.signupForm.value.firstName,t.name.last=this.signupForm.value.lastName,this._authService.signup(t).subscribe(function(e){return console.log(e)},function(t){return e._errorService.handleError(t)}),this._router.navigateByUrl("/")},e.prototype.isEmail=function(e){if(!e.value.match("[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?"))return{invalidMail:!0}},e=l([n.i(i.d)({selector:"my-signup",template:n(737)}),f("design:paramtypes",["function"==typeof(t="undefined"!=typeof r.b&&r.b)&&t||Object,"function"==typeof(u="undefined"!=typeof a.a&&a.a)&&u||Object,"function"==typeof(d="undefined"!=typeof o.b&&o.b)&&d||Object,"function"==typeof(p="undefined"!=typeof c.a&&c.a)&&p||Object])],e);var t,u,d,p}()},372:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(e,t){this.title=e,this.message=t}return e}()},373:function(e,t,n){"use strict";var i=n(1),r=n(66),o=n(374),s=n(38);n.d(t,"a",function(){return l});var a=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t){this._findFriendService=e,this._errorService=t,this.foundUsers=[],this.isLoading=!1,this.searchTerm=new r.c}return e.prototype.ngOnInit=function(){var e=this,t=this.searchTerm.valueChanges.debounceTime(400).distinctUntilChanged().filter(function(t){return 0!==t.length?t.length>=2:void(e.foundUsers=[])}).map(function(e){return e});t.subscribe(function(t){e.isLoading=!0,e._findFriendService.find(t).subscribe(function(t){0===t.length?e.foundUsers=null:e.foundUsers=t},function(t){return e._errorService.handleError(t)},function(){return e.isLoading=!1})},function(e){return console.log(e)})},e=a([n.i(i.d)({selector:"my-findFriend",template:'\n<div class="container">\n    <div class="col-md-6 col-md-offset-3 margin-bottom" id="inputContainer">\n      <div class="input-group">\n        <span class="input-group-addon" id="searchAddon"><i class="glyphicon glyphicon-search"></i></span>\n        <input [formControl]="searchTerm" type="text" class="form-control" aria-describedby="searchAddon">\n      </div>\n      <div class="col-md-12 center-align"><spinner [visible]="isLoading"></spinner></div>\n    </div>\n    <div class="col-md-6 col-md-offset-3 well" *ngIf="foundUsers === null">No user found!</div>\n    <div class="col-md-6 col-md-offset-3 col-sm-6 col-sm-offset-3 col-xs-6 col-xs-offset-3 message-panel"  *ngFor="let user of foundUsers">\n    <div class="media">\n        <div class="media-left">\n            <a [routerLink]="[\'/profile\', user.id]">\n              <img class="media-object" [src]="user.pictureUrl" alt="...">\n            </a>\n        </div>\n    <div class="media-body">\n        <h4 class="media-heading"><a [routerLink]="[\'/profile\', user.id]">@{{ user.username }}</a></h4>\n        <div class="well well-sm white-bg well-margin-bottom">{{ user.name.first }}, {{ user.name.last }}</div>\n        <div class="well well-sm white-bg well-margin-bottom">{{ user.email }}</div>\n    </div>\n    </div>\n    </div>\n</div>\n'}),c("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.a&&o.a)&&t||Object,"function"==typeof(l="undefined"!=typeof s.a&&s.a)&&l||Object])],e);var t,l}()},374:function(e,t,n){"use strict";var i=n(1),r=n(120),o=n(190),s=(n.n(o),n(137)),a=(n.n(s),n(136)),c=(n.n(a),n(135)),l=(n.n(c),n(126));n.d(t,"a",function(){return d});var f=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e){this._http=e,this._url="https://friendlytalks.herokuapp.com/find",this._token=localStorage.getItem("token")?"?token="+localStorage.getItem("token"):""}return e.prototype.find=function(e){return this._http.get(this._url+"/"+e+this._token).map(function(e){for(var t=e.json().obj,n=[],i=0;i<t.length;i++){var r=new l.a(t[i].username,t[i]._id,t[i].messages,t[i].email,t[i].pictureUrl,t[i].city);r.name=t[i].name,n.push(r)}return n}).catch(function(e){return o.Observable.throw(e.json())})},e=f([n.i(i.B)(),u("design:paramtypes",["function"==typeof(t="undefined"!=typeof r.c&&r.c)&&t||Object])],e);var t}()},375:function(e,t,n){"use strict";var i=n(1);n.d(t,"a",function(){return s});var r=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(){}return e.prototype.ngOnInit=function(){},e=r([n.i(i.d)({selector:"my-landingPage",template:'\n               <div class="container-fluid jumbotron">\n                   <div class="row col-md-4">\n                        <h2> Welcome to Friendly Talks!</h2>\n                        <p>Don\'t have account?</p>\n                        <a routerLink="/signup"><h3>Sign up!</h3></a>\n                   </div>\n               </div>\n'}),o("design:paramtypes",[])],e)}()},376:function(e,t,n){"use strict";var i=n(1),r=n(377),o=n(254),s=n(81),a=n(38),c=n(125);n.d(t,"a",function(){return u});var l=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t,n,i){this._messageService=e,this._profileService=t,this._errorService=n,this._objectStore=i,this.messages=[],this.message=null,this.messagesCache=null,this.userId=localStorage.getItem("userId"),this.globalFeedActive=!0,this.followerFeedActive=!1,this.messagesLoading=!0,this.userObject=null,this.messageSkipper=0}return e.prototype.ngOnInit=function(){var e=this;this.messageSkipper=0,this._messageService.getMessages(this.messageSkipper).subscribe(function(t){e.messages=t},function(t){return e._errorService.handleError(t)},function(){e.messagesLoading=!1}),this._profileService.find(this.userId).subscribe(function(t){e.userObject=t,e._objectStore.setObject("userObject",t)})},e.prototype.loadMoreMessage=function(){var e=this;this.messageSkipper+=10,this._messageService.getMessages(this.messageSkipper).subscribe(function(t){for(var n=0,i=t;n<i.length;n++){var r=i[n];e.messages.push(r)}},function(t){return e._errorService.handleError(t)})},e.prototype.sendMsg=function(e){var t=this,n=e.value;if(this.message)this.message.content=n,this._messageService.editMessage(this.message).subscribe(function(e){return console.log(e)},function(e){return t._errorService.handleError(e)},function(){return t.message=null});else{var i=Date.now(),r=new o.a(n,i);this._messageService.addMessage(r).subscribe(function(e){console.log(e),r.messageId=e.obj.id,r.username=e.obj.username,r.userId=e.obj.userId,r.meta=e.obj.meta,r.pictureUrl=e.obj.pictureUrl},function(e){return t._errorService.handleError(e)}),this.messages.unshift(r)}e.value=null},e.prototype.onDelete=function(e){var t=this;this.messages.splice(this.messages.indexOf(e),1),this._messageService.deleteMessage(e).subscribe(null,function(e){return t._errorService.handleError(e)})},e.prototype.onEdit=function(e){this.message=e},e.prototype.onCancel=function(){this.message=null},e.prototype.getGlobalMessages=function(){var e=this;this.followerFeedActive=!1,this.globalFeedActive=!0,this.messageSkipper=0,this._messageService.getMessages(this.messageSkipper).subscribe(function(t){e.messages=[];for(var n=0,i=t;n<i.length;n++){var r=i[n];e.messages.push(r)}},function(t){return e._errorService.handleError(t)})},e.prototype.getFollowingMessages=function(){var e=this;this.globalFeedActive=!1,this.followerFeedActive=!0,this._profileService.getFollowingMessages(this.userId).subscribe(function(t){e.messages=t},function(t){return e._errorService.handleError(t)})},e.prototype.userRating=function(e){return this.userObject.ratings.given.likes.indexOf(e)!=-1?1:this.userObject.ratings.given.dislikes.indexOf(e)!=-1?2:0},e.prototype.messageRated=function(e,t){var n=this;this._messageService.rateMessage(t,this.userId,e.newRating,e.prevRating).subscribe(null,function(e){return n._errorService.handleError(e)})},e=l([n.i(i.d)({selector:"my-message",template:n(738)}),f("design:paramtypes",["function"==typeof(t="undefined"!=typeof r.a&&r.a)&&t||Object,"function"==typeof(u="undefined"!=typeof s.a&&s.a)&&u||Object,"function"==typeof(d="undefined"!=typeof a.a&&a.a)&&d||Object,"function"==typeof(p="undefined"!=typeof c.a&&c.a)&&p||Object])],e);var t,u,d,p}()},377:function(e,t,n){"use strict";var i=n(1),r=n(120),o=n(137),s=(n.n(o),n(136)),a=(n.n(s),n(135)),c=(n.n(a),n(190)),l=(n.n(c),n(254));n.d(t,"a",function(){return d});var f=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e){this._http=e,this._url="https://friendlytalks.herokuapp.com/message",this._token=localStorage.getItem("token")?"?token="+localStorage.getItem("token"):""}return e.prototype.addMessage=function(e){var t=JSON.stringify(e),n=new r.b({"Content-Type":"application/json"});return this._http.post(this._url+this._token,t,{headers:n}).map(function(e){return e.json()}).catch(function(e){return c.Observable.throw(e.json())})},e.prototype.getMessages=function(e){return this._http.get(this._url+"/"+e+this._token).map(function(e){var t=e.json().obj;console.log(t);for(var n=[],i=0;i<t.length;i++){var r=new l.a(t[i].content,t[i].created_at,t[i].user.username,t[i].meta,t[i]._id,t[i].user._id,t[i].user.pictureUrl);n.push(r)}return n}).catch(function(e){return c.Observable.throw(e.json())})},e.prototype.deleteMessage=function(e){var t=e.messageId;return this._http.delete(this._url+"/"+t+this._token).map(function(e){return e.json()}).catch(function(e){return c.Observable.throw(e.json())})},e.prototype.editMessage=function(e){var t=JSON.stringify(e),n=new r.b({"Content-Type":"application/json"});return this._http.patch(this._url+"/"+e.messageId+this._token,t,{headers:n}).map(function(e){return e.json()}).catch(function(e){return c.Observable.throw(e.json())})},e.prototype.rateMessage=function(e,t,n,i){var o=JSON.stringify({raterUserId:t,rating:n,prevRating:i}),s=new r.b({"Content-Type":"application/json"});return this._http.patch(this._url+"/rate/"+e+this._token,o,{headers:s}).map(function(e){return console.log(e.json())}).catch(function(e){return c.Observable.throw(e.json())})},e=f([n.i(i.B)(),u("design:paramtypes",["function"==typeof(t="undefined"!=typeof r.c&&r.c)&&t||Object])],e);var t}()},378:function(e,t,n){"use strict";var i=n(1);n.d(t,"a",function(){return s});var r=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(){}return e=r([n.i(i.d)({template:"<h1>Not found</h1>"}),o("design:paramtypes",[])],e)}()},379:function(e,t,n){"use strict";var i=n(1),r=n(27),o=n(81),s=n(38);n.d(t,"a",function(){return l});var a=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t,n){this._profileService=e,this._route=t,this._errorService=n,this.followers=[],this.userId=null}return e.prototype.ngOnInit=function(){var e=this;this._route.parent.params.map(function(e){return e.userId}).subscribe(function(t){e.userId=t,console.log(t),e._profileService.getFollowers(t).subscribe(function(t){e.followers=t},function(t){return e._errorService.handleError(t)})},function(t){return e._errorService.handleError(t)})},e=a([n.i(i.d)({selector:"my-followers",template:'\n<h2>Followers</h2>\n           \n<div class="col-md-6 col-md-offset-3 col-sm-6 col-sm-offset-3 col-xs-6 col-xs-offset-3 margin-top message-panel"  *ngFor="let user of followers">\n    <div class="media">\n        <div class="media-left">\n            <a [routerLink]="[\'/profile\', user.id]">\n              <img class="media-object" [src]="user.pictureUrl" alt="...">\n            </a>\n        </div>\n    <div class="media-body">\n        <h4 class="media-heading"><a [routerLink]="[\'/profile\', user.id]">@{{ user.username }}</a></h4>\n        <div class="well well-sm white-bg well-margin-bottom">{{ user.name.first }}, {{ user.name.last }}</div>\n        <div class="well well-sm white-bg well-margin-bottom">{{ user.email }}</div>\n    </div>\n    </div>\n</div>'}),c("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.a&&o.a)&&t||Object,"function"==typeof(l="undefined"!=typeof r.c&&r.c)&&l||Object,"function"==typeof(f="undefined"!=typeof s.a&&s.a)&&f||Object])],e);var t,l,f}()},38:function(e,t,n){"use strict";var i=n(1),r=n(372);n.d(t,"a",function(){return o});var o=function(){function e(){this.errorOccured=new i.c}return e.prototype.handleError=function(e){console.error("[ErrorService][HandleError]",e);var t=new r.a(e.title,e.error.message);this.errorOccured.emit(t)},e}()},380:function(e,t,n){"use strict";var i=n(1),r=n(27),o=n(81),s=n(38);n.d(t,"a",function(){return l});var a=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(e,t,n){this._profileService=e,this._route=t,this._errorService=n,this.followings=[],this.userId=null}return e.prototype.ngOnInit=function(){var e=this;this._route.parent.params.map(function(e){return e.userId}).subscribe(function(t){return e.userId=t},function(t){return e._errorService.handleError(t)}),this._profileService.getFollowing(this.userId).subscribe(function(t){e.followings=t},function(t){return e._errorService.handleError(t)})},e=a([n.i(i.d)({selector:"my-following",template:'\n<h2>Following</h2>\n<div class="col-md-6 col-md-offset-3 col-sm-6 col-sm-offset-3 col-xs-6 col-xs-offset-3 margin-top message-panel"  *ngFor="let user of followings">\n    <div class="media">\n        <div class="media-left">\n            <a [routerLink]="[\'/profile\', user.id]">\n                <img class="media-object" [src]="user.pictureUrl" alt="...">\n            </a>\n        </div>\n        <div class="media-body">\n            <h4 class="media-heading"><a [routerLink]="[\'/profile\', user.id]">@{{ user.username }}</a></h4>\n            <div class="well well-sm white-bg well-margin-bottom">{{ user.name.first }}, {{ user.name.last }}</div>\n            <div class="well well-sm white-bg well-margin-bottom">{{ user.email }}</div>\n        </div>\n    </div>\n</div>'}),c("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.a&&o.a)&&t||Object,"function"==typeof(l="undefined"!=typeof r.c&&r.c)&&l||Object,"function"==typeof(f="undefined"!=typeof s.a&&s.a)&&f||Object])],e);var t,l,f}()},381:function(e,t,n){"use strict";var i=n(1),r=n(27);n.d(t,"a",function(){return a});var o=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(e,t){this._route=e,this._router=t}return e.prototype.ngOnInit=function(){var e=this;this._route.params.forEach(function(t){return e.userId=t.userId})},e.prototype.ngOnDestroy=function(){},e=o([n.i(i.d)({selector:"my-profile",template:'\n                <nav>\n                <div class="container">\n                    <ul class="nav nav-tabs nav-justified">\n                      <li ><a routerLink = "./" routerLinkActive="active">Profile</a></li>\n                      <li ><a routerLink = "followers" routerLinkActive="active">Followers</a></li>\n                      <li ><a routerLink = "following" routerLinkActive="active">Following</a></li>\n                    </ul>\n                </div>\n                </nav>\n                <div class="col-md-12 col-lg-12 col-sm-12 well">\n                    <router-outlet></router-outlet>\n                </div>\n'}),s("design:paramtypes",["function"==typeof(t="undefined"!=typeof r.c&&r.c)&&t||Object,"function"==typeof(a="undefined"!=typeof r.b&&r.b)&&a||Object])],e);var t,a}()},382:function(e,t,n){"use strict";var i=n(27),r=n(381),o=n(384),s=n(379),a=n(380);n.d(t,"a",function(){return l});var c=[{path:"profile/:userId",children:[{path:"",component:o.a},{path:"followers",component:s.a},{path:"following",component:a.a}],component:r.a}],l=i.a.forChild(c)},383:function(e,t,n){"use strict";var i=n(1),r=n(66),o=n(27),s=n(126),a=n(81),c=n(38),l=n(125);n.d(t,"a",function(){return d});var f=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t,n,i,r){this._router=e,this._fb=t,this._profileService=n,this._errorService=i,this._objectStore=r,this.selectedUser=this._objectStore.getObject("userObject")}return e.prototype.ngOnInit=function(){this.form=this._fb.group({pictureUrl:[""],email:["",r.a.compose([r.a.required,this.isEmail])],firstName:["",r.a.required],lastName:["",r.a.required],city:["",r.a.required]})},e.prototype.submit=function(){var e=this,t=new s.b(this.form.value.pictureUrl,this.form.value.email,this.form.value.firstName,this.form.value.lastName,this.form.value.city);this.selectedUser.pictureUrl=this.form.value.pictureUrl,this.selectedUser.email=this.form.value.email,this.selectedUser.name.first=this.form.value.firstName,this.selectedUser.name.last=this.form.value.lastName,this.selectedUser.city=this.form.value.city,this._objectStore.setObject("userObject",this.selectedUser),this._profileService.editProfile(this.selectedUser.id,t).subscribe(function(e){return console.log(e)},function(t){return e._errorService.handleError(t)}),this._router.navigate(["/profile",this.selectedUser.id])},e.prototype.isEmail=function(e){if(!e.value.match("[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?"))return{invalidMail:!0}},e=f([n.i(i.d)({selector:"profile-form",template:n(740)}),u("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.b&&o.b)&&t||Object,"function"==typeof(d="undefined"!=typeof r.b&&r.b)&&d||Object,"function"==typeof(p="undefined"!=typeof a.a&&a.a)&&p||Object,"function"==typeof(m="undefined"!=typeof c.a&&c.a)&&m||Object,"function"==typeof(g="undefined"!=typeof l.a&&l.a)&&g||Object])],e);var t,d,p,m,g}()},384:function(e,t,n){"use strict";var i=n(1),r=n(27),o=n(126),s=n(81),a=n(38),c=n(125);n.d(t,"a",function(){return u});var l=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(){function e(e,t,n,i,r){this._route=e,this._router=t,this._profileService=n,this._errorService=i,this._objectStore=r,this.selectedUserId=null,this.userObject=null,this.selectedUser=new o.a("init","init",[],"init","init","init"),this.isFollowed=null}return e.prototype.ngOnInit=function(){var e=this;this.userObject=this._objectStore.getObject("userObject"),this._route.parent.params.map(function(e){return e.userId}).subscribe(function(t){e.selectedUserId=t},function(t){return e._errorService.handleError(t)}),this._profileService.find(this.selectedUserId).subscribe(function(t){e.selectedUser=t,e.isOwnProfile()&&e._objectStore.setObject("userObject",t)},function(t){return e._errorService.handleError(t)}),this.isFollowed=this.userObject.relations.following.indexOf(this.selectedUserId)!=-1},e.prototype.ngDoCheck=function(){this.selectedUserId===this.userObject.id&&(this.selectedUser=this.userObject)},e.prototype.isOwnProfile=function(){return this.selectedUserId==localStorage.getItem("userId")},e.prototype.editProfile=function(){this._router.navigate(["update-profile-form"])},e.prototype.onFollowChange=function(e){var t=this;if(this._profileService.follow(localStorage.getItem("userId"),this.selectedUserId,e.state).subscribe(null,function(e){return t._errorService.handleError(e)}),e.state===!0)this.userObject.relations.following.push(this.selectedUserId),this.selectedUser.relations.followers.push(this.userObject.id),this._objectStore.setObject("userObject",this.userObject);else{var n=this.userObject.relations.following.indexOf(this.selectedUserId),i=this.selectedUser.relations.followers.indexOf(this.userObject.id);this.userObject.relations.following.splice(n,1),this.selectedUser.relations.followers.splice(i,1),this._objectStore.setObject("userObject",this.userObject)}},e=l([n.i(i.d)({selector:"selected-profile",template:n(741)}),f("design:paramtypes",["function"==typeof(t="undefined"!=typeof r.c&&r.c)&&t||Object,"function"==typeof(u="undefined"!=typeof r.b&&r.b)&&u||Object,"function"==typeof(d="undefined"!=typeof s.a&&s.a)&&d||Object,"function"==typeof(p="undefined"!=typeof a.a&&a.a)&&p||Object,"function"==typeof(m="undefined"!=typeof c.a&&c.a)&&m||Object])],e);var t,u,d,p,m}()},449:function(e,t){function n(e){throw new Error("Cannot find module '"+e+"'.")}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=449},450:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=(n(584),n(537)),r=n(1),o=n(583),s=n(567);o.a.production&&n.i(r.a)(),
n.i(i.a)().bootstrapModule(s.a)},566:function(e,t,n){"use strict";var i=n(1);n.d(t,"a",function(){return s});var r=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(){}return e=r([n.i(i.d)({selector:"my-app",template:'\n                <div class="container-fluid">\n                    <my-navbar></my-navbar>\n                   \n                    <router-outlet></router-outlet>\n                </div>\n                <my-error></my-error>\n\n'}),o("design:paramtypes",[])],e)}()},567:function(e,t,n){"use strict";var i=n(1),r=n(175),o=n(27),s=n(120),a=n(38),c=n(566),l=n(375),f=n(378),u=n(576),d=n(370),p=n(125),m=n(575),g=n(569),h=n(573),v=n(574),b=n(179),y=n(577),_=n(568),j=n(382);n.d(t,"a",function(){return R});var w=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},O=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},R=function(){function e(){}return e=w([n.i(i.b)({imports:[r.a,s.a,o.a,b.a,m.a,y.a,g.a,h.a,v.a,j.a,_.a],declarations:[c.a,u.a,l.a,d.a,f.a],bootstrap:[c.a],providers:[_.b,a.a,p.a]}),O("design:paramtypes",[])],e)}()},568:function(e,t,n){"use strict";var i=n(27),r=n(375),o=n(370),s=n(378),a=n(376),c=n(373),l=n(383),f=n(371);n.d(t,"b",function(){return d}),n.d(t,"a",function(){return p});var u=[{path:"announcements",component:o.a},{path:"find",component:c.a},{path:"update-profile-form",component:l.a},{path:"feed",component:a.a},{path:"signup",component:f.a},{path:"",component:r.a},{path:"**",component:s.a}],d=[],p=i.a.forRoot(u)},569:function(e,t,n){"use strict";var i=n(1),r=n(42),o=n(66),s=n(178),a=n(570),c=n(571),l=n(371);n.d(t,"a",function(){return d});var f=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(){}return e=f([n.i(i.b)({imports:[r.g,o.d,o.e],declarations:[a.a,c.a,l.a],exports:[a.a,c.a,l.a],providers:[s.a]}),u("design:paramtypes",[])],e)}()},570:function(e,t,n){"use strict";var i=n(1),r=n(27),o=n(178);n.d(t,"a",function(){return c});var s=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e,t){this._authService=e,this._router=t}return e.prototype.onLogout=function(){this._authService.logout(),this._router.navigateByUrl("auth/signin")},e=s([n.i(i.d)({selector:"my-logout",template:'\n        <section class="col-md-8 col-md-offset-2">\n            <button class="btn btn-danger" (click)="onLogout()">Logout</button>\n        </section>\n    '}),a("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.a&&o.a)&&t||Object,"function"==typeof(c="undefined"!=typeof r.b&&r.b)&&c||Object])],e);var t,c}()},571:function(e,t,n){"use strict";var i=n(1),r=n(66),o=n(27),s=n(178),a=n(253),c=n(38),l=n(125);n.d(t,"a",function(){return d});var f=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t,n,i,r){this._fb=e,this._router=t,this._authService=n,this._errorService=i,this._objectStore=r}return e.prototype.ngOnInit=function(){this.signinForm=this._fb.group({username:["",r.a.required],password:["",r.a.required]})},e.prototype.onSubmit=function(){var e=this,t=new a.a(this.signinForm.value.username,this.signinForm.value.password);this._authService.signin(t).subscribe(function(t){localStorage.setItem("token",t.token),e._objectStore.setObject("userObject",t.user),localStorage.setItem("userId",t.user.id),localStorage.setItem("username",t.user.username),localStorage.setItem("pictureUrl",t.user.pictureUrl),e._router.navigateByUrl("/feed")},function(t){return e._errorService.handleError(t)})},e=f([n.i(i.d)({selector:"my-signin",template:'\n<form [formGroup]="signinForm" (ngSubmit)="onSubmit()" class="navbar-form navbar-right" role="sign-in" >\n    <div class="form-group">\n        <input formControlName="username" type="text" class="form-control" placeholder="Username">\n    </div>\n    <div class="form-group">\n        <input formControlName="password" type="password" class="form-control" placeholder="Password"/>\n    </div>\n    <button type="submit" class="btn btn-success" [disabled]="!signinForm.valid">Sign in</button>\n</form>'}),u("design:paramtypes",["function"==typeof(t="undefined"!=typeof r.b&&r.b)&&t||Object,"function"==typeof(d="undefined"!=typeof o.b&&o.b)&&d||Object,"function"==typeof(p="undefined"!=typeof s.a&&s.a)&&p||Object,"function"==typeof(m="undefined"!=typeof c.a&&c.a)&&m||Object,"function"==typeof(g="undefined"!=typeof l.a&&l.a)&&g||Object])],e);var t,d,p,m,g}()},572:function(e,t,n){"use strict";var i=n(1),r=n(372),o=n(38);n.d(t,"a",function(){return c});var s=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},c=function(){function e(e){this._errorService=e,this.errorDisplay="none",this.errorData=r.a}return e.prototype.ngOnInit=function(){var e=this;this._errorService.errorOccured.subscribe(function(t){e.errorData=t,e.errorDisplay="block"})},e.prototype.onErrorHandled=function(){this.errorDisplay="none"},e=s([n.i(i.d)({selector:"my-error",template:'<div class="backdrop" [ngStyle]="{\'display\': errorDisplay}"></div>\n        <div class="modal" tabindex="-1" role="dialog" [ngStyle]="{\'display\': errorDisplay}">\n            <div class="modal-dialog">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <button type="button" class="close" aria-label="Close" (click)="onErrorHandled()"><span aria-hidden="true">&times;</span></button>\n                        <h4 class="modal-title">{{errorData?.title}}</h4>\n                    </div>\n                    <div class="modal-body">\n                     <p>{{errorData?.message}}</p>\n                    </div>\n                    <div class="modal-footer">\n                        <button type="button" class="btn btn-default" (click)="onErrorHandled()">Close</button>\n                    </div>\n                </div><!-- /.modal-content -->\n            </div><!-- /.modal-dialog -->\n        </div><!-- /.modal -->  \n    ',styles:["\n        .backdrop {\n            background-color: rgba(0,0,0,0.6);\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100vh;\n        }\n    "]}),a("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.a&&o.a)&&t||Object])],e);var t}()},573:function(e,t,n){"use strict";var i=n(1),r=n(42),o=n(572),s=n(38);n.d(t,"a",function(){return l});var a=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l=function(){function e(){}return e=a([n.i(i.b)({imports:[r.g],declarations:[o.a],exports:[o.a],providers:[s.a]}),c("design:paramtypes",[])],e)}()},574:function(e,t,n){"use strict";var i=n(1),r=n(42),o=n(27),s=n(66),a=n(373),c=n(374),l=n(179);n.d(t,"a",function(){return d});var f=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},u=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(){}return e=f([n.i(i.b)({imports:[r.g,o.a,l.a,s.d,s.e],declarations:[a.a],exports:[a.a],providers:[c.a]}),u("design:paramtypes",[])],e)}()},575:function(e,t,n){"use strict";var i=n(1),r=n(42),o=n(66),s=n(27),a=n(376),c=n(377),l=n(81),f=n(179);n.d(t,"a",function(){return p});var u=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(){}return e=u([n.i(i.b)({imports:[r.g,o.e,o.d,s.a,f.a],declarations:[a.a],exports:[a.a],providers:[c.a,l.a]}),d("design:paramtypes",[])],e)}()},576:function(e,t,n){"use strict";var i=n(1);n.d(t,"a",function(){return s});var r=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(){}return e.prototype.ngOnInit=function(){},e.prototype.ngDoCheck=function(){this.userId=localStorage.getItem("userId"),this.landingPage=this.isLoggedIn()?"/announcements":""},e.prototype.isLoggedIn=function(){return null!==localStorage.getItem("token")},e.prototype.logout=function(){localStorage.clear()},e=r([n.i(i.d)({selector:"my-navbar",template:n(739)}),o("design:paramtypes",[])],e)}()},577:function(e,t,n){"use strict";var i=n(1),r=n(42),o=n(66),s=n(179),a=n(381),c=n(81),l=n(382),f=n(379),u=n(380),d=n(384),p=n(578),m=n(383);n.d(t,"a",function(){return v});var g=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v=function(){function e(){}return e=g([n.i(i.b)({imports:[r.g,o.d,o.e,s.a,l.a],declarations:[a.a,p.a,f.a,u.a,d.a,m.a],providers:[c.a]}),h("design:paramtypes",[])],e)}()},578:function(e,t,n){"use strict";var i=n(1),r=n(126);n.d(t,"a",function(){return a});var o=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(){this.ratings=new r.c,this.myLikes=0,this.myDislikes=0,this.givenLikes=0,this.givenDislikes=0}return e.prototype.ngOnInit=function(){},e.prototype.ngOnChanges=function(){this.ratioCalc(this.ratings)},e.prototype.ratioCalc=function(e){var t=e.my.likes.length+e.my.dislikes.length;this.myLikes=Number((e.my.likes.length/(t/100)).toFixed(1)),this.myDislikes=Number((e.my.dislikes.length/(t/100)).toFixed(1));var n=e.given.likes.length+e.given.dislikes.length;this.givenDislikes=Number((e.given.dislikes.length/(n/100)).toFixed(1)),this.givenLikes=Number((e.given.likes.length/(n/100)).toFixed(1))},o([n.i(i.H)(),s("design:type",Object)],e.prototype,"ratings",void 0),e=o([n.i(i.d)({selector:"my-ratio",template:'\n<label for="ownRatings">My Ratings ratio</label>\n    <div class="well well-sm well-rating" id="ownRatings">\n        <div class="progress">\n          <div *ngIf="myLikes != 0" class="progress-bar progress-bar-success progress-bar-striped active" [style.width]="myLikes + \'%\'">\n           <i class="glyphicon glyphicon-thumbs-up"></i>  {{ myLikes}} %\n          </div>\n          <div *ngIf="myDislikes != 0" class="progress-bar progress-bar-danger progress-bar-striped active" [style.width]="myDislikes + \'%\'">\n           <!-- 💩 --> <i class="fa fa-thumbs-down"></i> {{ myDislikes }} %\n          </div>\n          \n        </div>\n    </div>\n\n<label for="givenRatings">Given Ratings ratio</label>\n    <div class="well well-sm" id="givenRatings"> \n        <div class="progress">\n          <div *ngIf="givenLikes != 0" class="progress-bar progress-bar-success progress-bar-striped active" [style.width]="givenLikes + \'%\'">\n            <i class="glyphicon glyphicon-thumbs-up"></i> {{ givenLikes }} %\n          </div>\n          <div *ngIf="givenDislikes != 0" class="progress-bar progress-bar-danger progress-bar-striped active" [style.width]="givenDislikes + \'%\'">\n          <!-- 💩 --> <i class="fa fa-thumbs-down"></i> {{ givenDislikes }} %\n          </div>\n    </div>\n</div>'}),s("design:paramtypes",[])],e)}()},579:function(e,t,n){"use strict";var i=n(1);n.d(t,"a",function(){return s});var r=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(){this.isFollowed=!1,this.change=new i.c}return e.prototype.ngOnInit=function(){console.log("isFollowed: "+this.isFollowed)},e.prototype.onFollowClick=function(){this.isFollowed=!this.isFollowed,this.change.emit({state:this.isFollowed})},r([n.i(i.H)(),o("design:type",Boolean)],e.prototype,"isFollowed",void 0),r([n.i(i._2)(),o("design:type",Object)],e.prototype,"change",void 0),e=r([n.i(i.d)({selector:"my-follow",template:'<button class="btn btn-padding"\n                    [class.btn-success]="!isFollowed"\n                    [class.btn-follow]="!isFollowed"\n                    [class.btn-danger]="isFollowed"\n                    [class.btn-unfollow]="isFollowed"\n                    (click)="onFollowClick()"><i class="glyphicon"\n                    [class.glyphicon-remove]="isFollowed"\n                    [class.glyphicon-ok]="!isFollowed"> </i> \n                    {{ isFollowed ? \'Unfollow\' : \'Follow\' }}</button>'}),o("design:paramtypes",[])],e)}()},580:function(e,t,n){"use strict";var i=n(1);n.d(t,"a",function(){return s});var r=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(){this.userId=localStorage.getItem("userId"),this.username=localStorage.getItem("username"),this.pictureUrl=localStorage.getItem("pictureUrl")}return e.prototype.ngOnInit=function(){},e.prototype.logout=function(){localStorage.clear()},e=r([n.i(i.d)({selector:"my-profilebar",template:'\n<ul class="nav navbar-nav navbar-right">\n    <li class="dropdown">\n        <a href="#" class="dropdown-toggle profile-image" data-toggle="dropdown">\n            <img [src]="pictureUrl" class="img-circle profile-picture"> {{ username }} <b class="caret"></b>\n        </a>\n    <ul class="dropdown-menu">\n        <li><a [routerLink]="[\'/profile\', userId]" routerLinkActive="active"><i class="fa fa-cog"></i> Profile</a></li>\n        <li><a routerLink = \'/update-profile-form\' routerLinkActive="active"><i class="fa fa-pencil"></i> Edit Profile</a></li>\n                                                                                \n        <li role="separator" class="divider"></li>\n        <li><a routerLink="/" (click)="logout()"><i class="fa fa-sign-out"></i> Sign out</a></li>\n    </ul>\n    </li>\n</ul>\n'}),o("design:paramtypes",[])],e)}()},581:function(e,t,n){"use strict";var i=n(1);n.d(t,"a",function(){return s});var r=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(){this.userRating=0,this.change=new i.c}return e.prototype.ngOnInit=function(){this.likes=this.ratingObj.likes.length||0,this.dislikes=this.ratingObj.dislikes.length||0},e.prototype.rate=function(e){var t=0,n=1,i=2,r=t;switch(e){case n:if(2===this.userRating&&(this.dislikes-=1,r=i),1===this.userRating){this.likes-=1,this.userRating=0,r=n,this.change.emit({newRating:this.userRating,prevRating:r});break}this.likes+=1,this.userRating=1,this.change.emit({newRating:this.userRating,prevRating:r});break;case i:if(1===this.userRating&&(this.likes-=1,r=n),2===this.userRating){this.dislikes-=1,this.userRating=0,r=i,this.change.emit({newRating:this.userRating,prevRating:r});break}this.dislikes+=1,this.userRating=2,this.change.emit({newRating:this.userRating,prevRating:r})}},r([n.i(i.H)(),o("design:type",Number)],e.prototype,"userRating",void 0),r([n.i(i.H)(),o("design:type",Object)],e.prototype,"ratingObj",void 0),r([n.i(i._2)(),o("design:type",Object)],e.prototype,"change",void 0),e=r([n.i(i.d)({selector:"my-rating",template:'\n\n    <i (click)="rate(1)" class="fa fa-thumbs-up cursor-pointer" [class.like]="userRating === 1"></i> {{ likes }} \n    <!-- <span (click)="rate(2)" class="cursor-pointer" [class.dislike]="userRating === 2" id="dislikeSpan">💩</span> {{ dislikes }} -->\n    <i (click)="rate(2)" class="fa fa-thumbs-down cursor-pointer" [class.dislike]="userRating === 2"></i> {{ dislikes }}\n'}),o("design:paramtypes",[])],e)}()},582:function(e,t,n){"use strict";var i=n(1);n.d(t,"a",function(){return s});var r=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(){this.visible=!0}return r([n.i(i.H)(),o("design:type",Object)],e.prototype,"visible",void 0),e=r([n.i(i.d)({selector:"spinner",template:'<div class="col-md-12 centerAlign"><i *ngIf="visible" class="fa fa-spinner fa-pulse fa-fw fa-3x"></i></div>'}),o("design:paramtypes",[])],e)}()},583:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i={production:!0}},584:function(e,t,n){"use strict";var i=n(598),r=(n.n(i),n(591)),o=(n.n(r),n(587)),s=(n.n(o),n(593)),a=(n.n(s),n(592)),c=(n.n(a),n(590)),l=(n.n(c),n(589)),f=(n.n(l),n(597)),u=(n.n(f),n(586)),d=(n.n(u),n(585)),p=(n.n(d),n(595)),m=(n.n(p),n(588)),g=(n.n(m),n(596)),h=(n.n(g),n(594)),v=(n.n(h),n(599)),b=(n.n(v),n(1003));n.n(b)},737:function(e,t){e.exports='<fieldset class="col-md-6 col-md-offset-3">\n    <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">\n\n        <div class="input-group margin-bottom">\n            <span class="input-group-addon" id="user-addon"><i class="fa fa-user"></i></span>\n            <input formControlName="username" type="text" id="username" aria-describedby="user-addon" class="form-control" placeholder="Username" required>\n        </div>\n\n        <div class="input-group margin-bottom">\n            <span class="input-group-addon" id="email-addon"><i class="fa fa-at"></i></span>\n            <input formControlName="email" type="text" id="email" class="form-control" aria-describedby="email-addon" placeholder="Email" required>\n        </div>\n\n        <div class="input-group margin-bottom">\n            <span class="input-group-addon" id="password-addon"><i class="fa fa-key"></i></span>\n            <input formControlName="password" type="password" id="password" class="form-control" aria-describedby="password-addon" placeholder="Password" required>\n        </div>\n\n        <div class="input-group margin-bottom">\n            <span class="input-group-addon" id="firstName-addon"><i class="fa fa-male"></i></span>\n            <input formControlName="firstName" type="text" id="firstName" aria-describedby="firstName-addon" class="form-control" placeholder="Firstname" required>\n        </div>\n\n        <div class="input-group margin-bottom">\n            <span class="input-group-addon" id="lastName-addon"><i class="fa fa-male"></i></span>\n            <input formControlName="lastName" type="text" id="lastName" aria-describedby="lastName-addon" class="form-control" placeholder="Lastname" required>\n        </div>\n\n        <div class="input-group margin-bottom">\n            <span class="input-group-addon" id="city-addon"><i class="fa fa-home"></i></span>\n            <input formControlName="city" type="text" id="city" aria-describedby="city-addon" class="form-control" placeholder="City" required>\n        </div>\n        <button type="submit margin-bottom" class="btn btn-primary" [disabled]="!signupForm.valid">Sign Up</button>\n    </form>\n</fieldset>'},738:function(e,t){e.exports='<div class="container">\n    <ul class="nav nav-tabs nav-justified">\n        <li (click)="getGlobalMessages()" [class.active]="globalFeedActive" class="cursor-pointer"><a>Global</a></li>\n        <li (click)="getFollowingMessages()" [class.active]="followerFeedActive" class="cursor-pointer"><a>Following</a></li>\n    </ul>\n</div>\n<div class="col-md-12 well">\n    <div class="row form-group margin-bottom">\n        <section class="col-md-6 col-md-offset-3 margin-top">\n            <label for="content">Be friendly.</label>\n            <input #input type="text" class="form-control input-margin" id="content" maxlength="75" minlength="1" placeholder="Write something here"\n                [ngModel]="message?.content" />\n            <button class="btn btn-success" (click)="sendMsg(input)">{{ message === null ? \'Send\' : \'Save\' }}</button>\n            <button class="btn btn-warning" *ngIf="message != null" (click)="onCancel()">Cancel</button><br />\n            <div class="col-md-12 center-align">\n                <spinner [visible]="messagesLoading"></spinner>\n            </div>\n        </section>\n    </div>\n    <!-- <pagination [items]="messages" (page-changed)="onMessageChanged($event)" [page-size]="pageSize"></pagination> -->\n    <div class="row">\n        <div class="col-md-6 col-md-offset-3 col-sm-6 col-sm-offset-3 col-xs-6 col-xs-offset-3 message-panel" *ngFor="let messageItem of messages">\n            <div class="media">\n                <div class="media-left">\n                    <a [routerLink]="[\'/profile\', messageItem.userId]">\n                        <img class="media-object" [src]="messageItem.pictureUrl" alt="...">\n                    </a>\n                </div>\n                <div class="media-body">\n                    <h4 class="media-heading"><a [routerLink]="[\'/profile\', messageItem.userId]">@{{ messageItem.username }}</a></h4>\n                    <div class="col-md-10 col-sm-10 col-xs-10 message-content">{{ messageItem.content }}</div>\n                    <div class="col-md-2 col-sm-2 col-xs-2 pull-right right-align message-config">\n                        <div class="message-config" *ngIf="userId == messageItem.userId">\n                            <i class="glyphicon glyphicon-pencil cursor-pointer left-align" data-toggle="tooltip" title="Edit" (click)="onEdit(messageItem)"> </i>\n                            <i class="glyphicon glyphicon-remove glyphicon-remove-color cursor-pointer left-align" data-toggle="tooltip" title="Remove"\n                                (click)="onDelete(messageItem)"> </i>\n                        </div>\n                    </div>\n                    <div class="col-md-12 col-sm-12 col-xs-12 message-footer">\n\n                        <div class="col-md-6 col-sm-6 col-xs-6 left-align"><my-rating [userRating]="userRating(messageItem.messageId)" [ratingObj]="messageItem.meta" (change)="messageRated($event, messageItem.messageId)"></my-rating></div>\n                        <div class="col-md-6 col-sm-6 col-xs-6 right-align" id="date">{{ messageItem.created_at | date: \'HH.m, MMM.d, y\' }}</div>\n\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="col-md-12 center-align"> <button class="btn-loadMoreMessage" (click)="loadMoreMessage()">Load more</button> </div>\n</div>'},739:function(e,t){e.exports='<nav id="navbar" class="navbar navbar-default navbar-fixed-top">\n    <div class="container-fluid">\n        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#top-nav">\n            <span class="sr-only">Toggle navigation</span>\n            <span class="icon-bar"></span>\n            <span class="icon-bar"></span>\n            <span class="icon-bar"></span>\n        </button>\n        <!-- Collect the nav links, forms, and other content for toggling -->\n        <div class="collapse navbar-collapse" id="top-nav">\n            <div class="navbar-header">\n                <a class="navbar-brand" id="brand" routerLink="{{landingPage}}">\n                    Friendly Talks\n                    <!-- <img alt="Brand" src="../images/logo.png"> -->\n                </a>\n            </div>\n            <ul class="nav navbar-nav">\n                <li *ngIf="isLoggedIn()" ><a routerLink="feed" routerLinkActive="active"><i class="fa fa-feed"></i> Feed</a></li>\n                <li *ngIf="isLoggedIn()" ><a routerLink="find" routerLinkActive="active"><span class="glyphicon glyphicon-search" aria-hidden="true"></span> Find a Friend</a></li>\n                <li *ngIf="isLoggedIn()" ><a routerLink="profile/{{ userId }}/followers" routerLinkActive="active"><i class="fa fa-users"></i> Relations</a></li>\n                <li *ngIf="!isLoggedIn()" ><a routerLink="signup" routerLinkActive="active"><i class="fa fa-sign-in"></i> Sign Up</a></li>\n            </ul>\n            <span *ngIf="!isLoggedIn()" ><my-signin></my-signin></span>\n            <span *ngIf="isLoggedIn()"><my-profilebar></my-profilebar></span>\n        </div><!-- /.navbar-collapse -->\n    </div><!-- /.container-fluid -->\n</nav>'},740:function(e,t){e.exports='<form [formGroup]="form" (ngSubmit)="submit()">\n    <div class="row col-md-6 col-lg-6 well margin-right">\n        <fieldset>\n            <legend>\n                <i class="glyphicon glyphicon-user"></i> User\n            </legend>\n\n            <div class="form-group">\n                <label for="form-pictureUrl">Updating profile picture</label>\n                <input [(ngModel)]="selectedUser.pictureUrl" formControlName="pictureUrl" ngModel #pictureUrl class="form-control" id="form-pictureUrl">\n            </div>\n\n            <div class="form-group">\n                <label for="form-email">Email</label>\n                <input [(ngModel)]="selectedUser.email" formControlName="email" ngModel #email class="form-control" id="form-email" required>\n\n            </div>\n\n            <div class="form-group">\n                <label for="form-firstname">Firstname</label>\n                <input [(ngModel)]="selectedUser.name.first" formControlName="firstName" ngModel #firstName class="form-control" id="form-firstName">\n\n            </div>\n\n            <div class="form-group">\n                <label for="form-lastName">Lastname</label>\n                <input [(ngModel)]="selectedUser.name.last" formControlName="lastName" ngModel #lastName class="form-control" id="form-lastName">\n\n            </div>\n\n            <div class="form-group">\n                <label for="form-city">City</label>\n                <input [(ngModel)]="selectedUser.city" formControlName="city" ngModel #city class="form-control" id="form-city">\n\n            </div>\n        </fieldset>\n        <button type="submit" [disabled]="!form.valid" class="btn btn-primary form">Save</button>\n        <a [routerLink]="[\'/profile\', selectedUser.id]" routerLinkActive="active"><button class="btn btn-danger">Cancel</button></a>\n    </div>\n</form>'},741:function(e,t){e.exports='<div *ngIf="!isOwnProfile()">\n    <my-follow [isFollowed]="isFollowed" (change)="onFollowChange($event)"></my-follow>\n</div>\n\n<div class="row col-md-6 col-lg-6 margin-right">\n\n    <fieldset>\n        <legend class="user">\n            <i class="glyphicon glyphicon-user"></i> User\n        </legend>\n\n        <div class="col-md-5 col-sm-5 left-align">\n            <img class="selected-profile-image img-responsive img-rounded" [src]="selectedUser.pictureUrl" >\n        </div>\n\n        <div class="col-md-6 col-md-offset-1 col-sm-6 col-sm-offset-1 left-align">\n\n            <label for="username">Username</label>\n            <div class="well well-sm white-bg" id="username">{{ selectedUser.username }}</div>\n\n            <label for="email">Email</label>\n            <div class="well well-sm white-bg" id="email">{{ selectedUser.email }}</div>\n\n            <label for="city">City</label>\n            <div class="well well-sm white-bg" id="city">{{ selectedUser.city }}</div>\n        </div>\n\n        <div class="col-md-12">\n\n            <label for="firstName">Firstname</label>\n            <div class="well well-sm white-bg" id="firstName">{{ selectedUser.name.first }}</div>\n            <label for="lastName">Lastname</label>\n            <div class="well well-sm white-bg" id="lastName">{{ selectedUser.name.last }}</div>\n        </div>\n\n    </fieldset>\n    <button *ngIf="isOwnProfile()" (click)="editProfile()" class="btn btn-success form">Edit</button>\n</div>\n\n<div class="row col-md-6 col-lg-6">\n    <fieldset>\n        <legend>\n            <i class="glyphicon glyphicon-tasks"></i> Statistics\n        </legend>\n        <label for="messages">Messages</label>\n        <div class="well well-sm white-bg" id="messages">{{ selectedUser.messages.length }}</div>\n\n        <label for="followers">Followers</label>\n        <div class="well well-sm white-bg" id="followers">{{ selectedUser.relations.followers.length }}</div>\n\n        <label for="following">Following</label>\n        <div class="well well-sm white-bg" id="following">{{ selectedUser.relations.following.length }}</div>\n\n        <my-ratio [ratings]="selectedUser.ratings"></my-ratio>\n    </fieldset>\n</div>';
},81:function(e,t,n){"use strict";var i=n(1),r=n(120),o=n(137),s=(n.n(o),n(136)),a=(n.n(s),n(135)),c=(n.n(a),n(190)),l=(n.n(c),n(126)),f=n(254);n.d(t,"a",function(){return p});var u=this&&this.__decorate||function(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e){this._http=e,this._url="https://friendlytalks.herokuapp.com/profile",this._token=localStorage.getItem("token")?"?token="+localStorage.getItem("token"):""}return e.prototype.find=function(e){return this._http.get(this._url+"/"+e+this._token).map(function(e){var t=e.json().obj,n=new l.a(t.username,t._id,t.messages,t.email,t.pictureUrl,t.city);return n.name=t.name,n.relations=t.relations,n.ratings=t.ratings,n}).catch(function(e){return c.Observable.throw(e.json())})},e.prototype.follow=function(e,t,n){var i=JSON.stringify({toFollowId:t,state:n}),o=new r.b({"Content-Type":"application/json"});return this._http.patch(this._url+"/"+e+this._token,i,{headers:o}).map(function(e){return console.log(e.json())}).catch(function(e){return c.Observable.throw(e.json())})},e.prototype.getFollowers=function(e){return this._http.get(this._url+"/followers/"+e+this._token).map(function(e){for(var t=e.json().obj,n=[],i=0;i<t.length;i++){var r=new l.a(t[i].username,t[i]._id,null,t[i].email,t[i].pictureUrl);r.name=t[i].name,n.push(r)}return n}).catch(function(e){return c.Observable.throw(e.json())})},e.prototype.getFollowing=function(e){return this._http.get(this._url+"/following/"+e+this._token).map(function(e){for(var t=e.json().obj,n=[],i=0;i<t.length;i++){var r=new l.a(t[i].username,t[i]._id,[],t[i].email,t[i].pictureUrl);r.name=t[i].name,n.push(r)}return n}).catch(function(e){return c.Observable.throw(e.json())})},e.prototype.getFollowingMessages=function(e){return this._http.get(this._url+"/followingmessages/"+e+this._token).map(function(e){for(var t=e.json().obj,n=[],i=0;i<t.length;i++)for(var r=0;r<t[i].messages.length;r++){var o=new f.a(t[i].messages[r].content,t[i].messages[r].created_at,t[i].username,t[i].messages[r].meta,t[i].messages[r]._id,t[i].messages[r].user,t[i].pictureUrl);n.push(o)}return n}).catch(function(e){return c.Observable.throw(e.json())})},e.prototype.editProfile=function(e,t){var n=JSON.stringify(t),i=new r.b({"Content-Type":"application/json"});return this._http.patch(this._url+"/editprofile/"+e+this._token,n,{headers:i}).map(function(e){return e.json()}).catch(function(e){return c.Observable.throw(e.json())})},e=u([n.i(i.B)(),d("design:paramtypes",["function"==typeof(t="undefined"!=typeof r.c&&r.c)&&t||Object])],e);var t}()}},[1004]);